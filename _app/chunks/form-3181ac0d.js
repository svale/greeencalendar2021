function h(e,{pending:a,error:n,result:l}){let s;async function c(o){const u=s={};o.preventDefault();const i=new FormData(e);a&&a(i,e);try{const t=await fetch(e.action,{method:e.method,headers:{accept:"application/json"},body:i});if(u!==s)return;t.ok?l(t,e):n?n(t,null,e):console.error(await t.text())}catch(t){if(n)n(null,t,e);else throw t}}return e.addEventListener("submit",c),{destroy(){e.removeEventListener("submit",c)}}}export{h as e};
